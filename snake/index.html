<!DOCTYPE html>

<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: white;
    }

    @media (prefers-color-scheme: light) {
        body {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
    }

    .container {
        text-align: center;
        background: rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 20px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    h1 {
        margin-bottom: 20px;
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .game-info {
        display: flex;
        justify-content: space-around;
        margin-bottom: 20px;
        gap: 20px;
    }

    .info-box {
        background: rgba(255, 255, 255, 0.2);
        padding: 10px 20px;
        border-radius: 10px;
        font-size: 1.2em;
        font-weight: bold;
    }

    #gameCanvas {
        border: 4px solid white;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        background: #1a1a2e;
        display: block;
        margin: 0 auto;
    }

    .controls {
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        gap: 15px;
        align-items: center;
    }

    .btn {
        padding: 12px 30px;
        font-size: 1.1em;
        border: none;
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.9);
        color: #667eea;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        background: white;
    }

    .btn:active {
        transform: translateY(0);
    }

    .arrow-keys {
        display: grid;
        grid-template-columns: repeat(3, 60px);
        gap: 5px;
        margin-top: 10px;
    }

    .arrow-btn {
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid white;
        border-radius: 10px;
        color: white;
        font-size: 24px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
    }

    .arrow-btn:hover {
        background: rgba(255, 255, 255, 0.4);
        transform: scale(1.1);
    }

    .arrow-btn:active {
        background: rgba(255, 255, 255, 0.6);
    }

    .arrow-up { grid-column: 2; grid-row: 1; }
    .arrow-left { grid-column: 1; grid-row: 2; }
    .arrow-down { grid-column: 2; grid-row: 2; }
    .arrow-right { grid-column: 3; grid-row: 2; }

    .game-over {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.95);
        padding: 40px;
        border-radius: 20px;
        display: none;
        z-index: 1000;
        text-align: center;
        animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translate(-50%, -60%); }
        to { opacity: 1; transform: translate(-50%, -50%); }
    }

    .game-over.show {
        display: block;
    }

    .game-over h2 {
        font-size: 3em;
        margin-bottom: 20px;
        color: #ff4757;
    }

    .game-over p {
        font-size: 1.5em;
        margin-bottom: 30px;
    }

    @media (max-width: 600px) {
        .container {
            padding: 15px;
        }

        h1 {
            font-size: 1.8em;
        }

        #gameCanvas {
            max-width: 90vw;
            height: auto;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <h1>üêç Snake Game</h1>

```
    <div class="game-info">
        <div class="info-box">
            Score: <span id="score">0</span>
        </div>
        <div class="info-box">
            Record: <span id="highScore">0</span>
        </div>
    </div>

    <canvas id="gameCanvas" width="400" height="400"></canvas>

    <div class="controls">
        <button class="btn" id="startBtn">Commencer</button>
        
        <div class="arrow-keys">
            <button class="arrow-btn arrow-up" id="upBtn">‚ñ≤</button>
            <button class="arrow-btn arrow-left" id="leftBtn">‚óÑ</button>
            <button class="arrow-btn arrow-down" id="downBtn">‚ñº</button>
            <button class="arrow-btn arrow-right" id="rightBtn">‚ñ∫</button>
        </div>
        
        <p style="margin-top: 10px; opacity: 0.8;">Utilisez les fl√®ches du clavier ou les boutons</p>
    </div>
</div>

<div class="game-over" id="gameOver">
    <h2>Game Over!</h2>
    <p>Score final: <span id="finalScore">0</span></p>
    <button class="btn" id="restartBtn">Rejouer</button>
</div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const scoreElement = document.getElementById('score');
    const highScoreElement = document.getElementById('highScore');
    const gameOverElement = document.getElementById('gameOver');
    const finalScoreElement = document.getElementById('finalScore');
    const startBtn = document.getElementById('startBtn');
    const restartBtn = document.getElementById('restartBtn');

    // Taille des cellules
    const gridSize = 20;
    const tileCount = canvas.width / gridSize;

    // Variables du jeu
    let snake = [{ x: 10, y: 10 }];
    let velocity = { x: 0, y: 0 };
    let food = { x: 15, y: 15 };
    let score = 0;
    let highScore = localStorage.getItem('snakeHighScore') || 0;
    let gameLoop;
    let isGameRunning = false;

    highScoreElement.textContent = highScore;

    // G√©n√©rer une nouvelle position pour la nourriture
    function generateFood() {
        food.x = Math.floor(Math.random() * tileCount);
        food.y = Math.floor(Math.random() * tileCount);
        
        // V√©rifier que la nourriture n'appara√Æt pas sur le serpent
        for (let segment of snake) {
            if (segment.x === food.x && segment.y === food.y) {
                generateFood();
                return;
            }
        }
    }

    // Dessiner le jeu
    function draw() {
        // Fond
        ctx.fillStyle = '#1a1a2e';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Grille
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
        ctx.lineWidth = 1;
        for (let i = 0; i <= tileCount; i++) {
            ctx.beginPath();
            ctx.moveTo(i * gridSize, 0);
            ctx.lineTo(i * gridSize, canvas.height);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(0, i * gridSize);
            ctx.lineTo(canvas.width, i * gridSize);
            ctx.stroke();
        }

        // Dessiner le serpent
        snake.forEach((segment, index) => {
            if (index === 0) {
                // T√™te du serpent
                ctx.fillStyle = '#00ff88';
                ctx.shadowBlur = 15;
                ctx.shadowColor = '#00ff88';
            } else {
                // Corps du serpent
                const opacity = 1 - (index / snake.length) * 0.5;
                ctx.fillStyle = `rgba(0, 255, 136, ${opacity})`;
                ctx.shadowBlur = 10;
                ctx.shadowColor = '#00ff88';
            }
            
            ctx.fillRect(
                segment.x * gridSize + 2,
                segment.y * gridSize + 2,
                gridSize - 4,
                gridSize - 4
            );
        });

        // Dessiner la nourriture
        ctx.shadowBlur = 20;
        ctx.shadowColor = '#ff4757';
        ctx.fillStyle = '#ff4757';
        ctx.beginPath();
        ctx.arc(
            food.x * gridSize + gridSize / 2,
            food.y * gridSize + gridSize / 2,
            gridSize / 2 - 2,
            0,
            Math.PI * 2
        );
        ctx.fill();

        ctx.shadowBlur = 0;
    }

    // Mettre √† jour le jeu
    function update() {
        if (!isGameRunning) return;

        // Calculer la nouvelle position de la t√™te
        const head = {
            x: snake[0].x + velocity.x,
            y: snake[0].y + velocity.y
        };

        // V√©rifier les collisions avec les murs
        if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
            gameOver();
            return;
        }

        // V√©rifier les collisions avec le corps
        for (let segment of snake) {
            if (head.x === segment.x && head.y === segment.y) {
                gameOver();
                return;
            }
        }

        // Ajouter la nouvelle t√™te
        snake.unshift(head);

        // V√©rifier si le serpent mange la nourriture
        if (head.x === food.x && head.y === food.y) {
            score += 10;
            scoreElement.textContent = score;
            
            if (score > highScore) {
                highScore = score;
                highScoreElement.textContent = highScore;
                localStorage.setItem('snakeHighScore', highScore);
            }
            
            generateFood();
        } else {
            // Retirer la queue si pas de nourriture mang√©e
            snake.pop();
        }

        draw();
    }

    // G√©rer les directions
    function changeDirection(newVelocity) {
        // Emp√™cher le serpent de faire demi-tour
        if (velocity.x === -newVelocity.x && velocity.y === -newVelocity.y) {
            return;
        }
        
        // Ne pas changer de direction si le serpent est immobile
        if (velocity.x === 0 && velocity.y === 0) {
            velocity = newVelocity;
            return;
        }
        
        velocity = newVelocity;
    }

    // Contr√¥les clavier
    document.addEventListener('keydown', (e) => {
        if (!isGameRunning) return;

        switch(e.key) {
            case 'ArrowUp':
            case 'z':
            case 'Z':
                e.preventDefault();
                changeDirection({ x: 0, y: -1 });
                break;
            case 'ArrowDown':
            case 's':
            case 'S':
                e.preventDefault();
                changeDirection({ x: 0, y: 1 });
                break;
            case 'ArrowLeft':
            case 'q':
            case 'Q':
                e.preventDefault();
                changeDirection({ x: -1, y: 0 });
                break;
            case 'ArrowRight':
            case 'd':
            case 'D':
                e.preventDefault();
                changeDirection({ x: 1, y: 0 });
                break;
        }
    });

    // Contr√¥les tactiles
    document.getElementById('upBtn').addEventListener('click', () => {
        if (isGameRunning) changeDirection({ x: 0, y: -1 });
    });

    document.getElementById('downBtn').addEventListener('click', () => {
        if (isGameRunning) changeDirection({ x: 0, y: 1 });
    });

    document.getElementById('leftBtn').addEventListener('click', () => {
        if (isGameRunning) changeDirection({ x: -1, y: 0 });
    });

    document.getElementById('rightBtn').addEventListener('click', () => {
        if (isGameRunning) changeDirection({ x: 1, y: 0 });
    });

    // D√©marrer le jeu
    function startGame() {
        snake = [{ x: 10, y: 10 }];
        velocity = { x: 1, y: 0 };
        score = 0;
        scoreElement.textContent = score;
        generateFood();
        isGameRunning = true;
        gameOverElement.classList.remove('show');
        startBtn.textContent = 'Pause';
        
        if (gameLoop) clearInterval(gameLoop);
        gameLoop = setInterval(update, 100);
        draw();
    }

    // Game Over
    function gameOver() {
        isGameRunning = false;
        clearInterval(gameLoop);
        finalScoreElement.textContent = score;
        gameOverElement.classList.add('show');
        startBtn.textContent = 'Commencer';
    }

    // Boutons
    startBtn.addEventListener('click', () => {
        if (!isGameRunning) {
            startGame();
        } else {
            isGameRunning = false;
            clearInterval(gameLoop);
            startBtn.textContent = 'Reprendre';
        }
    });

    restartBtn.addEventListener('click', () => {
        startGame();
    });

    // Dessiner l'√©tat initial
    draw();
</script>
```

</body>
</html>